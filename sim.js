(()=>{var t,e={8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),a=n(401),o=n(7667),i=n(1327),s=n(1866);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,t.exports=c},8407:(t,e,n)=>{var r=n(7040),a=n(4125),o=n(2117),i=n(7518),s=n(4705);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,t.exports=c},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),a=n(1285),o=n(6e3),i=n(9916),s=n(5265);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,t.exports=c},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},6384:(t,e,n)=>{var r=n(8407),a=n(7465),o=n(3779),i=n(7599),s=n(4758),c=n(4309);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=c,t.exports=u},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,a=0,o=[];++n<r;){var i=t[n];e(i,n,t)&&(o[a++]=i)}return o}},4636:(t,e,n)=>{var r=n(2545),a=n(5694),o=n(1469),i=n(4144),s=n(5776),c=n(6719),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&a(t),f=!n&&!l&&i(t),d=!n&&!l&&!f&&c(t),p=n||l||f||d,y=p?r(t.length,String):[],v=y.length;for(var h in t)!e&&!u.call(t,h)||p&&("length"==h||f&&("offset"==h||"parent"==h)||d&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||s(h,v))||y.push(h);return y}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}},4865:(t,e,n)=>{var r=n(9465),a=n(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var i=t[e];o.call(t,e)&&a(i,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),a=n(3674);t.exports=function(t,e){return t&&r(e,a(e),t)}},3886:(t,e,n)=>{var r=n(8363),a=n(1704);t.exports=function(t,e){return t&&r(e,a(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),a=n(7412),o=n(4865),i=n(4037),s=n(3886),c=n(4626),u=n(278),l=n(8805),f=n(1911),d=n(8234),p=n(6904),y=n(4160),v=n(3824),h=n(9148),_=n(8517),m=n(1469),g=n(4144),x=n(6688),I=n(3218),P=n(2928),w=n(3674),b=n(1704),A="[object Arguments]",E="[object Function]",O="[object Object]",S={};S[A]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[O]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[E]=S["[object WeakMap]"]=!1,t.exports=function t(e,n,M,j,k,T){var D,H=1&n,K=2&n,C=4&n;if(M&&(D=k?M(e,j,k,T):M(e)),void 0!==D)return D;if(!I(e))return e;var R=m(e);if(R){if(D=v(e),!H)return u(e,D)}else{var L=y(e),N=L==E||"[object GeneratorFunction]"==L;if(g(e))return c(e,H);if(L==O||L==A||N&&!k){if(D=K||N?{}:_(e),!H)return K?f(e,s(D,e)):l(e,i(D,e))}else{if(!S[L])return k?e:{};D=h(e,L,H)}}T||(T=new r);var B=T.get(e);if(B)return B;T.set(e,D),P(e)?e.forEach((function(r){D.add(t(r,n,M,r,e,T))})):x(e)&&e.forEach((function(r,a){D.set(a,t(r,n,M,a,e,T))}));var F=R?void 0:(C?K?p:d:K?b:w)(e);return a(F||e,(function(r,a){F&&(r=e[a=r]),o(D,a,t(r,n,M,a,e,T))})),D}},3118:(t,e,n)=>{var r=n(3218),a=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(a)return a(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},8866:(t,e,n)=>{var r=n(2488),a=n(1469);t.exports=function(t,e,n){var o=e(t);return a(t)?o:r(o,n(t))}},4239:(t,e,n)=>{var r=n(2705),a=n(9607),o=n(2333),i=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?a(t):o(t)}},9454:(t,e,n)=>{var r=n(4239),a=n(7005);t.exports=function(t){return a(t)&&"[object Arguments]"==r(t)}},5588:(t,e,n)=>{var r=n(4160),a=n(7005);t.exports=function(t){return a(t)&&"[object Map]"==r(t)}},8458:(t,e,n)=>{var r=n(3560),a=n(5346),o=n(3218),i=n(346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||a(t))&&(r(t)?d:s).test(i(t))}},9221:(t,e,n)=>{var r=n(4160),a=n(7005);t.exports=function(t){return a(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),a=n(1780),o=n(7005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&a(t.length)&&!!i[r(t)]}},280:(t,e,n)=>{var r=n(5726),a=n(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return a(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),a=n(5726),o=n(3498),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=a(t),n=[];for(var s in t)("constructor"!=s||!e&&i.call(t,s))&&n.push(s);return n}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),a=n(9465);t.exports=function(t,e,n,o){var i=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=o?o(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),i?a(n,u,l):r(n,u,l)}return n}},8805:(t,e,n)=>{var r=n(8363),a=n(9551);t.exports=function(t,e){return r(t,a(t),e)}},1911:(t,e,n)=>{var r=n(8363),a=n(1442);t.exports=function(t,e){return r(t,a(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},8777:(t,e,n)=>{var r=n(852),a=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=a},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),a=n(9551),o=n(3674);t.exports=function(t){return r(t,o,a)}},6904:(t,e,n)=>{var r=n(8866),a=n(1442),o=n(1704);t.exports=function(t){return r(t,o,a)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},852:(t,e,n)=>{var r=n(8458),a=n(7801);t.exports=function(t,e){var n=a(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var a=i.call(t);return r&&(e?t[s]=n:delete t[s]),a}},9551:(t,e,n)=>{var r=n(4963),a=n(479),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(t){return null==t?[]:(t=Object(t),r(i(t),(function(e){return o.call(t,e)})))}:a;t.exports=s},1442:(t,e,n)=>{var r=n(2488),a=n(5924),o=n(9551),i=n(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=a(t);return e}:i;t.exports=s},4160:(t,e,n)=>{var r=n(8552),a=n(7071),o=n(3818),i=n(8525),s=n(577),c=n(4239),u=n(346),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",y="[object DataView]",v=u(r),h=u(a),_=u(o),m=u(i),g=u(s),x=c;(r&&x(new r(new ArrayBuffer(1)))!=y||a&&x(new a)!=l||o&&x(o.resolve())!=f||i&&x(new i)!=d||s&&x(new s)!=p)&&(x=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case v:return y;case h:return l;case _:return f;case m:return d;case g:return p}return e}),t.exports=x},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:a.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),a=n(7157),o=n(3147),i=n(419),s=n(7133);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return a(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return o(t);case"[object Symbol]":return i(t)}}},8517:(t,e,n)=>{var r=n(3118),a=n(5924),o=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(a(t))}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,a=n(4429),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),a=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():a.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,a=r(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),a=n(8407),o=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,i=o&&o.exports===a&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5639:(t,e,n)=>{var r=n(1957),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();t.exports=o},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),a=n(7071),o=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(t,e),this.size=n.size,this}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},361:(t,e,n)=>{var r=n(5990);t.exports=function(t){return r(t,5)}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5694:(t,e,n)=>{var r=n(9454),a=n(7005),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return a(t)&&i.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),a=n(1780);t.exports=function(t){return null!=t&&a(t.length)&&!r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),a=n(5062),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;t.exports=c},3560:(t,e,n)=>{var r=n(4239),a=n(3218);t.exports=function(t){if(!a(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),a=n(1717),o=n(1167),i=o&&o.isMap,s=i?a(i):r;t.exports=s},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2928:(t,e,n)=>{var r=n(9221),a=n(1717),o=n(1167),i=o&&o.isSet,s=i?a(i):r;t.exports=s},6719:(t,e,n)=>{var r=n(8749),a=n(1717),o=n(1167),i=o&&o.isTypedArray,s=i?a(i):r;t.exports=s},3674:(t,e,n)=>{var r=n(4636),a=n(280),o=n(8612);t.exports=function(t){return o(t)?r(t):a(t)}},1704:(t,e,n)=>{var r=n(4636),a=n(313),o=n(8612);t.exports=function(t){return o(t)?r(t,!0):a(t)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},1258:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dungeon8=void 0;var r=n(4119),a=n(3606),o=n(7228),i=n(8389),s=n(6627),c=n(4795);e.dungeon8={tier:8,floors:[{enemies:[{name:"Boomerang Monkey",items:[new i.Machete(8)],auras:[],maxHP:225,curHP:225,energy:0,speed:17,attackMin:24,attackMax:32},{name:"Wizard Monkey",items:[new o.ExplosionPowder(2)],auras:[],maxHP:250,curHP:250,energy:999,speed:10,attackMin:0,attackMax:0},{name:"Ice Monkey",items:[new r.Avalanche(1)],auras:[],maxHP:200,curHP:200,energy:999,speed:10,attackMin:10,attackMax:25}]},{enemies:[{name:"Dart Monkey 1",items:[],auras:[],maxHP:150,curHP:150,energy:0,speed:18,attackMin:10,attackMax:40},{name:"Dart Monkey 2",items:[],auras:[],maxHP:150,curHP:150,energy:0,speed:18,attackMin:10,attackMax:40},{name:"Tack Shooter 1",items:[new c.Thorns(7)],auras:[],maxHP:200,curHP:200,energy:0,speed:18,attackMin:0,attackMax:0},{name:"Tack Shooter 2",items:[new c.Thorns(7)],auras:[],maxHP:200,curHP:200,energy:0,speed:18,attackMin:0,attackMax:0}]},{enemies:[{name:"Super Monkey",items:[new s.SeekingMissiles(2)],auras:[],maxHP:375,curHP:375,energy:0,speed:55,attackMin:20,attackMax:35},{name:"Monkey Village",items:[new a.BoostingBugle(3)],auras:[],maxHP:200,curHP:200,energy:1001,speed:20,attackMin:0,attackMax:0}]}]}},7346:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dungeon9=void 0;var r=n(4119),a=n(8669),o=n(8283),i=n(7976),s=n(7228),c=n(7351),u=n(4970),l=n(1707),f=n(8389),d=n(6208),p=n(4258),y=n(2158),v=n(4795);e.dungeon9={tier:9,floors:[{enemies:[{name:"Trundle",items:[new o.ChallengerArrow(2)],auras:[],maxHP:250,curHP:250,energy:999,speed:17,attackMin:20,attackMax:75},{name:"Sejuani",items:[new r.Avalanche(4)],auras:[],maxHP:250,curHP:250,energy:0,speed:13,attackMin:50,attackMax:100},{name:"Teemo",items:[new p.PoisonDagger(5)],auras:[],maxHP:100,curHP:100,energy:0,speed:20,attackMin:10,attackMax:20},{name:"Ezreal",items:[new p.PoisonDagger(5)],auras:[],maxHP:100,curHP:100,energy:0,speed:20,attackMin:10,attackMax:20}]},{enemies:[{name:"Tahm Kench",items:[new c.HealingPendant(5),new d.MagicParasol(6)],auras:[],maxHP:200,curHP:200,energy:0,speed:6,attackMin:50,attackMax:150},{name:"Braum",items:[new d.MagicParasol(4),new y.SurvivalKit(8)],auras:[],maxHP:300,curHP:300,energy:0,speed:7,attackMin:50,attackMax:100},{name:"Brand",items:[new v.Thorns(7),new s.ExplosionPowder(5),new f.Machete(4)],auras:[],maxHP:150,curHP:150,energy:0,speed:11,attackMin:10,attackMax:20},{name:"Zyra",items:[new v.Thorns(7),new u.ImpWhistle(8),new f.Machete(4)],auras:[],maxHP:150,curHP:150,energy:0,speed:15,attackMin:5,attackMax:25},{name:"Sona",items:[new i.EnergeticAlly(7),new l.LoveLetter(7)],auras:[],maxHP:150,curHP:150,energy:0,speed:12,attackMin:20,attackMax:30}]},{enemies:[{name:"Riven",items:[new f.Machete(9),new a.BigClub(9)],auras:[],maxHP:500,curHP:500,energy:0,speed:20,attackMin:40,attackMax:90},{name:"Yasuo",items:[],auras:[],maxHP:250,curHP:250,energy:0,speed:20,attackMin:1,attackMax:150}]}]}},3672:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.AuraKind=void 0,(n=e.AuraKind||(e.AuraKind={}))[n.BIG_CLUB=0]="BIG_CLUB",n[n.POISON=1]="POISON",n[n.SEEKING_MISSILES=2]="SEEKING_MISSILES",n[n.CHICKEN_EXHAUSTION=3]="CHICKEN_EXHAUSTION"},3214:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.startDungeon=void 0;var a=r(n(361)),o=n(5318),i=n(5593),s=n(8246),c=n(3555),u=n(1359),l=r(n(6782)),f=0;function d(t){if(null!==p(t))return t;(0,u.combatMessage)("--------"),l.default.displayPartyStates&&console.log(JSON.stringify(t,null,2));var e=function(t,e){for(var n=t.concat(e),r=n.reduce((function(t,e){return t+Math.floor(e.speed+(e.pitySpeed?e.pitySpeed:0))}),0),a=(0,o.getRandomInt)(0,r),i=0,s=0;s<n.length;s++)if(!(n[s].speed<=0)){var c=n[s].pitySpeed?n[s].pitySpeed:0;if(a<(i+=Math.floor(n[s].speed+c))){var u=0,l=s;return s>=t.length&&(u=1,l-=t.length),{partyID:u,partyIndex:l}}}}(t[0],t[1]),n=function(t,e){return(0,a.default)(t).map((function(t,n){return t.map((function(t,n){return t.curHP<=0||(n===e.partyID&&n===e.partyIndex?t.pitySpeed=0:(void 0===t.pitySpeed&&(t.pitySpeed=0),t.pitySpeed=void 0===t.pitySpeed?l.default.pityScaling(t.pitySpeed):l.default.pityScaling(0))),t}))}))}(t,e);if(n=function(t){var e=(0,a.default)(t);return e.map((function(t){return t.map((function(t){return t.energy+=2,t}))}))}(n),n=function(t,e){for(var n=(0,a.default)(t),r=(0,a.default)(e),o=function(){var t=r.pop();switch(t.kind){case i.EventKind.START_TURN:var e=t.processStartTurn(n);r=r.concat(e.newEvents),n=e.newPartyStates;break;case i.EventKind.START_TURN_ITEM:var a=t.processStartTurnItem(n);r=r.concat(a.newEvents),n=a.newPartyStates;break;case i.EventKind.SELECT_TARGET:var o=t.processSelectTarget(n);r=r.concat(o.newEvents),n=o.newPartyStates;break;case i.EventKind.TARGET_FINALIZED:var c=t.processTargetFinalized(n);r=r.concat(c.newEvents),n=c.newPartyStates;break;case i.EventKind.BASIC_ATTACK:var l=t.processBasicAttack(n);r=r.concat(l.newEvents),n=l.newPartyStates;break;case i.EventKind.AFTER_ATTACK:var f=t.processAfterAttack(n);r=r.concat(f.newEvents),n=f.newPartyStates;break;case i.EventKind.SUMMON_ACTOR:var d=t.processSummonActor(n);r=r.concat(d.newEvents),n=d.newPartyStates;break;case i.EventKind.ACTOR_DIED:var y=t.processActorDied(n);r=r.concat(y.newEvents),n=y.newPartyStates;break;case i.EventKind.DAMAGE_TAKEN:var v=t.processDamageTaken(n);r=r.concat(v.newEvents),n=v.newPartyStates;break;case i.EventKind.DAMAGE_DEALT:var h=t.processDamageDealt(n);r=r.concat(h.newEvents),n=h.newPartyStates;break;case i.EventKind.HEALING_RECEIVED:var _=t.processHealingReceived(n);r=r.concat(_.newEvents),n=_.newPartyStates;break;case i.EventKind.END_TURN:var m=t.processEndTurn(n);r=r.concat(m.newEvents),n=m.newPartyStates}if(null!==p(n=n.map((function(e,n){return e.map((function(e,n){return e.curHP<=0&&!e.dead&&((0,u.combatMessage)(e.name+" has fallen!"),e.speed=0,e.pitySpeed=0,e.dead=!0,r=r.concat(new s.ActorDiedEvent(e,t))),e}))}))))return"break"};0!=r.length&&"break"!==o(););return n}(n,[new c.StartTurnEvent(e.partyID,e.partyIndex)]),++f>1e3)throw console.log(JSON.stringify(n,null,2)),new Error("combat looped infinitely - printing party state");return d(n)}function p(t){for(var e=0;e<t.length;e++)if(t[e].reduce((function(t,e){return t+Math.max(0,e.curHP)}),0)<=0)return e;return null}e.startDungeon=function(t,e){for(var n=(0,a.default)([e,[]]),r=0;r<n.length;r++)for(var o=0;o<n[r].length;o++)for(var i=0;i<n[r][o].items.length;i++){var s=n[r][o].items[i].handleOnDungeonStart(n,r,o);n=s.newPartyStates}f=0;for(var c=0;c<t.floors.length;c++){for((0,u.combatMessage)("Starting floor "+c),n[1]=(0,a.default)(t.floors[c].enemies),r=0;r<n.length;r++)for(o=0;o<n[r].length;o++)for(i=0;i<n[r][o].items.length;i++)s=n[r][o].items[i].handleNewFloor(n,r,o,c),n=s.newPartyStates;if(0==p(n=d(n)))return{won:!1,turnsTaken:f}}return{won:!0,turnsTaken:f}}},5593:function(t,e){"use strict";var n,r,a=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.EventKind=e.CombatEvent=e.Event=void 0,function(t){t.GENERIC_COMBAT="Generic Combat",t.START_TURN="Start Turn",t.START_TURN_ITEM="Start Turn Item",t.SELECT_TARGET="Select Target",t.TARGET_FINALIZED="Target Finalized",t.AFTER_ATTACK="After Attack",t.BASIC_ATTACK="Basic Attack",t.BASIC_ATTACK_ITEM="Basic Attack Item",t.DAMAGE_TAKEN="Damage Taken",t.DAMAGE_DEALT="Damage Dealt",t.HEALING_RECEIVED="Healing Received",t.SUMMON_ACTOR="Summon Actor",t.ACTOR_DIED="Actor Died",t.END_TURN="End Turn"}(r||(r={})),e.EventKind=r;var o=function(t){this.kind=t};e.Event=o;var i=function(t){function e(e,n,r,a,o){var i=t.call(this,e)||this;return"number"==typeof n?(i.attackerIndex=r,i.attackerPartyIndex=n,i.defenderIndex=o,i.defenderPartyIndex=a):(i.attackerIndex=n.attackerIndex,i.attackerPartyIndex=n.attackerPartyIndex,i.defenderIndex=n.defenderIndex,i.defenderPartyIndex=n.defenderPartyIndex),i}return a(e,t),e}(o);e.CombatEvent=i},8246:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDiedEvent=void 0;var i=n(5593),s=o(n(361)),c=function(t){function e(e,n){var r=t.call(this,i.EventKind.ACTOR_DIED)||this;return r.actor=e,r.triggeredBy=n,r}return a(e,t),e.prototype.processActorDied=function(t){for(var e=(0,s.default)(t),n=[],r=0;r<this.actor.items.length;r++){var a=this.actor.items[r].handleOnDeath(e,this.triggeredBy);e=a.newPartyStates,n=n.concat(a.newEvents)}return{newPartyStates:e,newEvents:n}},e}(i.Event);e.ActorDiedEvent=c},4476:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AfterAttackEvent=void 0;var i=n(5593),s=n(5110),c=o(n(361)),u=function(t){function e(e){return t.call(this,i.EventKind.AFTER_ATTACK,e)||this}return a(e,t),e.prototype.processAfterAttack=function(t){for(var e=(0,c.default)(t),n=[new s.EndTurnEvent(this.attackerPartyIndex,this.attackerIndex)],r=e[this.attackerPartyIndex][this.attackerIndex],a=0;a<r.items.length;a++){var o=r.items[a].handleOnAfterAttack(e,this);n=n.concat(o.newEvents),e=o.newPartyStates}return{newPartyStates:e,newEvents:n}},e}(i.CombatEvent);e.AfterAttackEvent=u},5770:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BasicAttackEvent=void 0;var i=n(5318),s=n(3672),c=n(5593),u=o(n(361)),l=n(7281),f=n(4476),d=n(1359),p=n(5835),y=function(t){function e(e){var n=t.call(this,c.EventKind.BASIC_ATTACK,e)||this;return n.triggeredBy=e,n}return a(e,t),e.prototype.processBasicAttack=function(t){var n=t[this.attackerPartyIndex][this.attackerIndex];if(void 0===t[this.defenderPartyIndex][this.defenderIndex]){var r=(0,p.getRandomLivingActor)(t,this.defenderPartyIndex);return this.triggeredBy.defenderIndex=r,{newPartyStates:t,newEvents:[new e(this.triggeredBy)]}}for(var a=(0,u.default)(t),o=(0,i.getRandomInt)(n.attackMin,n.attackMax+1),c=o,y=[],v=0;v<n.items.length;v++){var h=n.items[v].handleOnBasicAttack(a,o,this);a=h.newPartyStates,y=y.concat(h.newEvents)}n.auras.some((function(t){return t.kind===s.AuraKind.SEEKING_MISSILES}))&&(c+=n.auras.find((function(t){return t.kind===s.AuraKind.SEEKING_MISSILES})).stacks,n.auras=n.auras.filter((function(t){return t.kind!==s.AuraKind.SEEKING_MISSILES})),a[this.attackerPartyIndex][this.attackerIndex]=n),n.auras.some((function(t){return t.kind===s.AuraKind.BIG_CLUB}))&&(c*=2.5,c=Math.floor(c),n.auras=n.auras.filter((function(t){return t.kind!==s.AuraKind.BIG_CLUB})),a[this.attackerPartyIndex][this.attackerIndex]=n);var _=new l.DamageDealtEvent(c,this.defenderPartyIndex,this.defenderIndex,this);return y.unshift(_),y.unshift(new f.AfterAttackEvent(this)),(0,d.combatMessage)(a[this.attackerPartyIndex][this.attackerIndex].name+" attacks "+a[this.defenderPartyIndex][this.defenderIndex].name+" for "+c+" damage."),{newEvents:y,newPartyStates:a}},e}(c.CombatEvent);e.BasicAttackEvent=y},7281:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DamageDealtEvent=void 0;var i=n(5593),s=n(2440),c=o(n(361)),u=function(t){function e(e,n,r,a){var o=t.call(this,i.EventKind.DAMAGE_DEALT)||this;return o.damageDealt=e,o.targetPartyIndex=n,o.targetIndex=r,o}return a(e,t),e.prototype.processDamageDealt=function(t){for(var e=(0,c.default)(t),n=e[this.targetPartyIndex][this.targetIndex],r=[],a=0;a<n.items.length;a++){var o=n.items[a].handleOnDamageDealt(e,this);e=o.newPartyStates,r=r.concat(o.newEvents)}return r.unshift(new s.DamageTakenEvent(this.damageDealt,this.targetPartyIndex,this.targetIndex,this)),{newPartyStates:e,newEvents:r}},e}(i.Event);e.DamageDealtEvent=u},2440:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DamageTakenEvent=void 0;var s=n(5593),c=i(n(361)),u=function(t){function e(e,n,r,a){var o=t.call(this,s.EventKind.DAMAGE_TAKEN)||this;return o.damageTaken=e,o.targetPartyIndex=n,o.targetIndex=r,o}return a(e,t),e.prototype.processDamageTaken=function(t){var e=(0,c.default)(t),n=e[this.targetPartyIndex][this.targetIndex],r=o(o({},n),{curHP:Math.max(0,n.curHP-=this.damageTaken)});return e[this.targetPartyIndex][this.targetIndex]=r,{newPartyStates:e,newEvents:[]}},e}(s.Event);e.DamageTakenEvent=u},5110:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EndTurnEvent=void 0;var i=n(5593),s=n(3672),c=n(1359),u=o(n(361)),l=function(t){function e(e,n){var r=t.call(this,i.EventKind.END_TURN)||this;return r.turnActorPartyIndex=e,r.turnActorIndex=n,r}return a(e,t),e.prototype.processEndTurn=function(t){for(var e=(0,u.default)(t),n=0;n<e[this.turnActorPartyIndex][this.turnActorIndex].auras.length;n++){var r=e[this.turnActorPartyIndex][this.turnActorIndex].auras[n];r.kind===s.AuraKind.POISON&&(e[this.turnActorPartyIndex][this.turnActorIndex].curHP=Math.max(0,e[this.turnActorPartyIndex][this.turnActorIndex].curHP-r.stacks),(0,c.combatMessage)(e[this.turnActorPartyIndex][this.turnActorIndex].name+" is suffering from poison! "+e[this.turnActorPartyIndex][this.turnActorIndex].name+" takes "+r.stacks+" poison damage."))}return{newPartyStates:e,newEvents:[]}},e}(i.Event);e.EndTurnEvent=l},8151:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HealingReceivedEvent=void 0;var s=n(5593),c=i(n(361)),u=function(t){function e(e,n,r,a){var o=t.call(this,s.EventKind.HEALING_RECEIVED)||this;return o.healingReceived=e,o.targetPartyIndex=n,o.targetIndex=r,o}return a(e,t),e.prototype.processHealingReceived=function(t){var e=(0,c.default)(t),n=e[this.targetPartyIndex][this.targetIndex],r=o(o({},n),{curHP:Math.min(n.maxHP,n.curHP+=this.healingReceived)});return e[this.targetPartyIndex][this.targetIndex]=r,{newPartyStates:e,newEvents:[]}},e}(s.Event);e.HealingReceivedEvent=u},8587:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SelectTargetEvent=void 0;var i=n(5593),s=o(n(361)),c=n(299),u=n(5835),l=function(t){function e(e,n,r){var a=t.call(this,i.EventKind.SELECT_TARGET)||this;return a.attackerPartyIndex=e,a.defenderPartyIndex=0===e?1:0,a.attackerIndex=n,a.defenderIndex=r,a}return a(e,t),e.prototype.processSelectTarget=function(t){var e=this,n=(0,s.default)(t),r=n[this.attackerPartyIndex][this.attackerIndex];void 0===this.defenderIndex&&(this.defenderIndex=(0,u.getRandomLivingActor)(n,this.defenderPartyIndex));for(var a=0;a<r.items.length;a++){var o=r.items[a].handleBeforeAttackerTargetFinalized(n,this);o&&(this.defenderIndex=o.defenderIndex)}n=(0,u.forAllLivingActors)(n,this.defenderPartyIndex,(function(t,r){for(var a=0;a<t.items.length;a++){var o=t.items[a].handleBeforeDefenderTargetFinalized(n,r,e);if(o){if(o.defenderIndex!=e.defenderIndex){e.defenderIndex=o.defenderIndex;break}if(null!=o)break}}return t}));var i=[new c.TargetFinalizedEvent(this.attackerPartyIndex,this.attackerIndex,this.defenderPartyIndex,this.defenderIndex)];return{newPartyStates:n,newEvents:i}},e}(i.Event);e.SelectTargetEvent=l},3555:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StartTurnEvent=void 0;var i=n(5593),s=o(n(361)),c=n(8587),u=n(8976),l=function(t){function e(e,n){var r=t.call(this,i.EventKind.START_TURN)||this;return r.turnActorPartyIndex=e,r.turnActorIndex=n,r}return a(e,t),e.prototype.processStartTurn=function(t){for(var e=(0,s.default)(t),n=[new c.SelectTargetEvent(this.turnActorPartyIndex,this.turnActorIndex)],r=0;r<e[this.turnActorPartyIndex][this.turnActorIndex].items.length;r++){var a=e[this.turnActorPartyIndex][this.turnActorIndex].items[r];n.push(new u.StartTurnItemEvent(a,this))}return{newPartyStates:e,newEvents:n}},e}(i.Event);e.StartTurnEvent=l},8976:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StartTurnItemEvent=void 0;var i=n(5593),s=o(n(361)),c=function(t){function e(e,n){var r=t.call(this,i.EventKind.START_TURN_ITEM)||this;return r.item=e,r.triggeredBy=n,r}return a(e,t),e.prototype.processStartTurnItem=function(t){var e=(0,s.default)(t),n=[],r=this.item.handleOnTurnStart(e,this.triggeredBy);return{newPartyStates:e=r.newPartyStates,newEvents:n=n.concat(r.newEvents)}},e}(i.Event);e.StartTurnItemEvent=c},6915:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SummonActorEvent=void 0;var s=n(5593),c=i(n(361)),u=function(t){function e(e,n){var r=t.call(this,s.EventKind.SUMMON_ACTOR)||this;return r.actor=e,r.targetPartyIndex=n,r}return a(e,t),e.prototype.processSummonActor=function(t){var e=(0,c.default)(t);return e[this.targetPartyIndex].push(o(o({},this.actor),{isSummoned:!0})),{newPartyStates:e,newEvents:[]}},e}(s.Event);e.SummonActorEvent=u},299:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TargetFinalizedEvent=void 0;var i=n(5593),s=o(n(361)),c=n(5770),u=function(t){function e(e,n,r,a){return t.call(this,i.EventKind.TARGET_FINALIZED,e,n,r,a)||this}return a(e,t),e.prototype.processTargetFinalized=function(t){for(var e=(0,s.default)(t),n=[new c.BasicAttackEvent(this)],r=e[this.attackerPartyIndex][this.attackerIndex],a=0;a<r.items.length;a++){var o=r.items[a].handleOnTargetFinalized(e,this);n=n.concat(o.newEvents),e=o.newPartyStates}return{newPartyStates:e,newEvents:n}},e}(i.CombatEvent);e.TargetFinalizedEvent=u},8891:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.Item=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.handleOnBasicAttack=function(t,e,n){return{newPartyStates:t,newEvents:[]}},e.prototype.handleOnDamageDealt=function(t,e){return{newPartyStates:t,newEvents:[]}},e.prototype.handleOnDungeonStart=function(t,e,n){return{newPartyStates:t,newEvents:[]}},e.prototype.handleBeforeAttackerTargetFinalized=function(t,e){return null},e.prototype.handleBeforeDefenderTargetFinalized=function(t,e,n){return null},e.prototype.handleOnTurnStart=function(t,e){return{newPartyStates:t,newEvents:[]}},e.prototype.handleOnAfterAttack=function(t,e){return{newPartyStates:t,newEvents:[]}},e.prototype.handleOnDeath=function(t,e){return{newPartyStates:t,newEvents:[]}},e.prototype.handleOnTargetFinalized=function(t,e){return{newPartyStates:t,newEvents:[]}},e.prototype.handleNewFloor=function(t,e,n,r){return{newPartyStates:t,newEvents:[]}},e}((function(t,e,n,r){this.kind=t,this.name=e,this.tier=n,this.energyCost=r}));e.Item=a},2081:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemKind=void 0,(n=e.ItemKind||(e.ItemKind={})).AVALANCHE="Avalanche",n.BIG_CLUB="Big Club",n.BOOSTING_BUGLE="Boosting Bugle",n.CHALLENGER_ARROW="Challenger Arrow",n.CHICKEN_HEALING="Dummy Chicken Healing",n.CHUMBY_CHICKEN="Celine's Chumby Chicken",n.CLEANSING_FLAMES="Cleansing Flames",n.DRAINING_DAGGER="Draining Dagger",n.ENERGETIC_ALLY="Energetic Ally",n.EXPLOSION_POWDER="Explosion Powder",n.FIRE_SWORD="Fire Sword",n.FREEZEMAN="Freezeman",n.HALBERD="Halberd",n.HEALING_PENDANT="Healing Pendant",n.IMP_WHISTLE="Imp Whistle",n.KNIGHTS_LANCE="Knight's Lance",n.LOVE_LETTER="Love Letter",n.MACHETE="Machete",n.MARTYR_ARMOR="Martyr Armor",n.MAGIC_PARASOL="Magic Parasol",n.PET_IMP="Pet Imp",n.POISON_DAGGER="Poison Dagger",n.ROCK_COMPANION="Rock Companion",n.SEEKING_MISSILES="Seeking Missiles",n.SURVIVAL_KIT="Survival Kit",n.THORNS="Thorns",n.WHIRLWIND_AXE="Whirlwind Axe"},4080:(t,e,n)=>{"use strict";t=n.nmd(t),Object.defineProperty(e,"__esModule",{value:!0}),e.DungeonSimulator=void 0;var r=n(1258),a=n(7346),o=n(3214),i=n(4119),s=n(8669),c=n(3606),u=n(8283),l=n(7625),f=n(7976),d=n(6199),p=n(1559),y=n(7351),v=n(3378),h=n(1707),_=n(6208),m=n(7741),g=n(4258),x=n(2158),I=n(4795),P=n(1359),w=(new c.BoostingBugle(8),new m.MartyrArmor(7),new p.Freezeman(7),new g.PoisonDagger(7),new f.EnergeticAlly(8),new m.MartyrArmor(8),new _.MagicParasol(7),new x.SurvivalKit(7),[{name:"maurixxo",items:[new i.Avalanche(8),new m.MartyrArmor(8),new x.SurvivalKit(8),new _.MagicParasol(8)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12},{name:"zoop",items:[new i.Avalanche(8),new m.MartyrArmor(8),new x.SurvivalKit(8),new _.MagicParasol(8)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12},{name:"neonus",items:[new i.Avalanche(8),new m.MartyrArmor(8),new x.SurvivalKit(8),new _.MagicParasol(8)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12},{name:"debuffer",items:[new i.Avalanche(8),new p.Freezeman(8),new I.Thorns(8),new h.LoveLetter(8)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12},{name:"anotherguy",items:[new i.Avalanche(8),new p.Freezeman(8),new I.Thorns(8),new h.LoveLetter(8)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12}]),b=[{name:"maurixxo",items:[new i.Avalanche(7),new x.SurvivalKit(7),new _.MagicParasol(7),new m.MartyrArmor(7)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12},{name:"zoop",items:[new i.Avalanche(7),new x.SurvivalKit(7),new _.MagicParasol(7),new m.MartyrArmor(7)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12},{name:"neonus",items:[new I.Thorns(7),new p.Freezeman(7),new h.LoveLetter(7),new f.EnergeticAlly(7)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12},{name:"debuffer",items:[new I.Thorns(7),new p.Freezeman(7),new h.LoveLetter(7),new f.EnergeticAlly(7)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12},{name:"anotherguy",items:[new v.KnightsLance(7),new x.SurvivalKit(7),new _.MagicParasol(7),new y.HealingPendant(7)],auras:[],maxHP:130,curHP:130,energy:0,speed:12,attackMin:3,attackMax:12}],A=(new u.ChallengerArrow(8),new d.FireSword(8),new p.Freezeman(7),new s.BigClub(7),new _.MagicParasol(8),new m.MartyrArmor(8),new v.KnightsLance(7),new x.SurvivalKit(7),new l.CleansingFlames(7),new f.EnergeticAlly(7),new p.Freezeman(7),new h.LoveLetter(7),function(){function t(){}return t.prototype.simulate=function(t,e,n){for(var r=0,i=0;i<t;i++){console.log("Running trial "+i+" / "+t);var s=(0,o.startDungeon)(a.dungeon9,b);s.won&&r++,(0,P.combatMessage)("Trial "+(s.won?"won":"lost")+" in "+s.turnsTaken+" turns.")}console.log("In "+t+" trials:"),console.log("Wins: "+r),console.log("Losses: "+(t-r)),console.log("Winrate: "+r/t*100+"%")},t}());e.DungeonSimulator=A,n.c[n.s]===t&&"undefined"==typeof window&&(new A).simulate(1,w,r.dungeon8)},4119:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Avalanche=void 0;var i=n(7281),s=n(8891),c=n(2081),u=n(5318),l=o(n(361)),f=n(1359),d=n(5835),p=function(t){function e(e){var n=c.ItemKind.AVALANCHE,r=c.ItemKind[c.ItemKind.AVALANCHE];return t.call(this,n,r,e,40)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=(0,l.default)(t),r=n[e.turnActorPartyIndex][e.turnActorIndex];if(r.energy<this.energyCost)return{newPartyStates:t,newEvents:[]};var a=0===e.turnActorPartyIndex?1:0,o=[];(0,f.combatMessage)(r.name+" creates a massive avalanche.");for(var s=[],c=0;c<2;c++)if(!(n[a].length-s.length<=0)){var p=(0,d.getRandomLivingActor)(n,a,(function(t,e){return!0}));if(-1!==p){var y=3*this.tier,v=5*this.tier,h=(0,u.getRandomInt)(y,v+1),_=1*this.tier,m=Math.min(n[a][p].speed-1,(0,u.getRandomInt)(0,_+1)),g=new i.DamageDealtEvent(h,a,p,e);o.unshift(g);var x=n[a][p];x.speed-=m,n[a][p]=x,x.curHP-h<=0&&s.push(p);var I=n[a][p].name+" takes "+h+" damage"+(m?", losing "+m+" speed!":"!");(0,f.combatMessage)(I)}}return r.energy-=this.energyCost,n[e.turnActorPartyIndex][e.turnActorIndex]=r,{newPartyStates:n,newEvents:o}},e}(s.Item);e.Avalanche=p},8669:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BigClub=void 0;var i=n(8891),s=n(2081),c=n(5318),u=o(n(361)),l=n(3672),f=n(1359),d=function(t){function e(e){var n=s.ItemKind.BIG_CLUB,r=s.ItemKind[s.ItemKind.BIG_CLUB];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnTargetFinalized=function(t,e){var n=(0,u.default)(t),r=n[e.attackerPartyIndex][e.attackerIndex],a=11*this.tier;return(0,c.getRandomInt)(0,100)<a&&(r.auras.push({kind:l.AuraKind.BIG_CLUB,stacks:1}),n[e.attackerPartyIndex][e.attackerIndex]=r,(0,f.combatMessage)(n[e.attackerPartyIndex][e.attackerIndex].name+" hits "+n[e.defenderPartyIndex][e.defenderIndex].name+" really hard with their big club, dealing an extra 150% bonus damage.")),{newPartyStates:n,newEvents:[]}},e}(i.Item);e.BigClub=d},3606:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BoostingBugle=void 0;var i=n(8891),s=n(2081),c=o(n(361)),u=n(8151),l=n(1359),f=n(5835),d=function(t){function e(e){var n=s.ItemKind.BOOSTING_BUGLE,r=s.ItemKind[s.ItemKind.BOOSTING_BUGLE];return t.call(this,n,r,e,55)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=(0,c.default)(t),r=n[e.turnActorPartyIndex][e.turnActorIndex];if(r.energy<this.energyCost)return{newPartyStates:t,newEvents:[]};r.energy-=this.energyCost,n[e.turnActorPartyIndex][e.turnActorIndex]=r,(0,l.combatMessage)(r.name+" plays an encouraging fanfare!");var a=n[e.turnActorPartyIndex].filter((function(t,n){return!t.isSummoned&&!t.dead&&n!=e.turnActorIndex}));if(0==a.length)return{newPartyStates:n,newEvents:[]};for(var o=[],i=0;i<2;i++){var s=(0,f.getRandomLivingActor)(n,e.turnActorPartyIndex,(function(t,n){return!t.isSummoned&&!t.dead&&n!=e.turnActorIndex})),d=n[e.turnActorPartyIndex][s],p=2*this.tier,y=1*this.tier,v=new u.HealingReceivedEvent(p,e.turnActorPartyIndex,s,e);o.push(v),d.attackMin+=y,d.attackMax+=y,n[e.turnActorPartyIndex][s]=d,(0,l.combatMessage)(d.name+" gains "+p+" HP and "+y+" attack.")}return{newPartyStates:n,newEvents:o}},e}(i.Item);e.BoostingBugle=d},8283:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ChallengerArrow=void 0;var i=n(7281),s=n(8891),c=n(2081),u=o(n(361)),l=n(1359),f=n(5835),d=function(t){function e(e){var n=c.ItemKind.CHALLENGER_ARROW,r=c.ItemKind[c.ItemKind.CHALLENGER_ARROW];return t.call(this,n,r,e,55)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=(0,u.default)(t),r=n[e.turnActorPartyIndex][e.turnActorIndex];if(r.energy<this.energyCost)return{newPartyStates:t,newEvents:[]};var a=0===e.turnActorPartyIndex?1:0,o=10*this.tier,s=1*this.tier,c=(0,f.getRandomLivingActor)(n,a),d=[],p=new i.DamageDealtEvent(o,a,c,e);return d.push(p),r.attackMin+=s,r.attackMax+=s,r.energy-=this.energyCost,n[e.turnActorPartyIndex][e.turnActorIndex]=r,(0,l.combatMessage)(r.name+" draws their bow, hitting "+n[a][c].name+" for "+o+" damage! Since "+n[a][c].name+" was no match for "+r.name+", "+r.name+" gains "+s+" attack."),{newPartyStates:n,newEvents:d}},e}(s.Item);e.ChallengerArrow=d},7625:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CleansingFlames=void 0;var i=n(8891),s=n(2081),c=n(5318),u=o(n(361)),l=n(8151),f=n(1359),d=n(5835),p=function(t){function e(e){var n=s.ItemKind.CLEANSING_FLAMES,r=s.ItemKind[s.ItemKind.CLEANSING_FLAMES];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnAfterAttack=function(t,e){var n=this,r=(0,u.default)(t),a=t[e.attackerPartyIndex][e.attackerIndex],o=[];return(0,c.getRandomInt)(0,2)>0&&((0,f.combatMessage)(a.name+" douses their party in cleansing flames."),r=(0,d.forAllLivingActors)(r,e.attackerPartyIndex,(function(t,r){var a=1*n.tier,i=new l.HealingReceivedEvent(a,e.attackerPartyIndex,r,e);return o.push(i),(0,f.combatMessage)(t.name+" gains "+a+" HP."),t}))),{newPartyStates:r,newEvents:o}},e}(i.Item);e.CleansingFlames=p},7976:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EnergeticAlly=void 0;var i=n(8891),s=n(2081),c=o(n(361)),u=n(8151),l=n(1359),f=function(t){function e(e){var n=s.ItemKind.ENERGETIC_ALLY,r=s.ItemKind[s.ItemKind.ENERGETIC_ALLY];return t.call(this,n,r,e,50)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=(0,c.default)(t),r=n[e.turnActorPartyIndex][e.turnActorIndex];if(r.energy<this.energyCost)return{newPartyStates:t,newEvents:[]};for(var a=5+5*this.tier,o=-1,i=1/0,s=0;s<n[e.turnActorPartyIndex].length;s++)n[e.turnActorPartyIndex][s].curHP>0&&n[e.turnActorPartyIndex][s].curHP<i&&(i=n[e.turnActorPartyIndex][s].curHP,o=s);var f=[],d=new u.HealingReceivedEvent(a,e.turnActorPartyIndex,o,e);return f.push(d),r.energy-=this.energyCost,n[e.turnActorPartyIndex][o].energy+=20,n[e.turnActorPartyIndex][e.turnActorIndex]=r,(0,l.combatMessage)(r.name+"'s cat blinds "+n[e.turnActorPartyIndex][o].name+" with an invigorating ray. "+n[e.turnActorPartyIndex][o].name+" recovers "+a+" hp and gains 20 energy."),{newPartyStates:n,newEvents:f}},e}(i.Item);e.EnergeticAlly=f},7228:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExplosionPowder=void 0;var i=n(7281),s=n(8891),c=n(2081),u=n(5318),l=o(n(361)),f=n(1359),d=n(5835),p=function(t){function e(e){var n=c.ItemKind.EXPLOSION_POWDER,r=c.ItemKind[c.ItemKind.EXPLOSION_POWDER];return t.call(this,n,r,e,60)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=this,r=(0,l.default)(t),a=r[e.turnActorPartyIndex][e.turnActorIndex];if(a.energy<this.energyCost)return{newPartyStates:t,newEvents:[]};var o=[],s=0===e.turnActorPartyIndex?1:0;return(0,f.combatMessage)("Suddenly, the battlefield is covered in a thick powder. "+a.name+" combusts the powder!"),r=(0,d.forAllLivingActors)(r,s,(function(t,a){var c=5*n.tier,l=10*n.tier,d=(0,u.getRandomInt)(c,l+1);1===r[s].length&&(d*=2);var p=new i.DamageDealtEvent(d,s,a,e);return o.push(p),(0,f.combatMessage)(r[s][a].name+" takes "+d+" damage from the sheer force of the massive explosion."),t})),a.energy-=this.energyCost,r[e.turnActorPartyIndex][e.turnActorIndex]=a,{newPartyStates:r,newEvents:o}},e}(s.Item);e.ExplosionPowder=p},6199:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FireSword=void 0;var i=n(8891),s=n(2081),c=n(5318),u=o(n(361)),l=n(1359),f=function(t){function e(e){var n=s.ItemKind.FIRE_SWORD,r=s.ItemKind[s.ItemKind.FIRE_SWORD];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnAfterAttack=function(t,e){for(var n=(0,u.default)(t),r=n[e.attackerPartyIndex][e.attackerIndex],a=0,o=0;o<this.tier;o++)(0,c.getRandomInt)(0,100)<30&&a++;return a>0&&(r.attackMin+=a,r.attackMax+=a,(0,l.combatMessage)(r.name+"'s fire sword is getting them all fired up! They gain "+a+" attack.")),n[e.attackerPartyIndex][e.attackerIndex]=r,{newPartyStates:n,newEvents:[]}},e}(i.Item);e.FireSword=f},1559:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Freezeman=void 0;var i=n(8891),s=n(2081),c=o(n(361)),u=function(t){function e(e){var n=s.ItemKind.FREEZEMAN,r=s.ItemKind[s.ItemKind.FREEZEMAN];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnDungeonStart=function(t,e,n){var r=(0,c.default)(t),a=r[e][n];return a.speed+=this.tier,r[e][n]=a,{newPartyStates:r,newEvents:[]}},e}(i.Item);e.Freezeman=u},7351:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HealingPendant=void 0;var o=n(8891),i=n(2081),s=n(5318),c=n(8151),u=n(8587),l=n(1359),f=function(t){function e(e){var n=i.ItemKind.HEALING_PENDANT,r=i.ItemKind[i.ItemKind.HEALING_PENDANT];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=t[e.turnActorPartyIndex][e.turnActorIndex],r=[];if((0,s.getRandomInt)(0,2)>0){var a=5*this.tier,o=new c.HealingReceivedEvent(a,e.turnActorPartyIndex,e.turnActorIndex,e);r.push(o),(0,l.combatMessage)("The magic of "+n.name+"'s healing pendant revitalizes them. "+n.name+" restores "+a+" HP.")}return{newPartyStates:t,newEvents:r}},e.prototype.handleBeforeDefenderTargetFinalized=function(t,e,n){if(e===n.defenderIndex)return null;var r=10+3*this.tier;if((0,s.getRandomInt)(0,100)<r){var a=t[n.attackerPartyIndex][n.attackerIndex],o=t[n.defenderPartyIndex][n.defenderIndex],i=t[n.defenderPartyIndex][e];return i.curHP<o.curHP?((0,l.combatMessage)(i.name+" thinks about jumping in front of the attack, but is a coward."),new u.SelectTargetEvent(n.attackerPartyIndex,n.attackerIndex,n.defenderIndex)):((0,l.combatMessage)(a.name+" targets "+o.name+" but "+i.name+" jumps in front of the attack and saves them."),new u.SelectTargetEvent(n.attackerPartyIndex,n.attackerIndex,e))}return null},e}(o.Item);e.HealingPendant=f},4970:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImpWhistle=void 0;var i=n(8891),s=n(2081),c=o(n(361)),u=n(6915),l=n(1359),f=n(5835),d=function(t){function e(e){var n=s.ItemKind.IMP_WHISTLE,r=s.ItemKind[s.ItemKind.IMP_WHISTLE];return t.call(this,n,r,e,45)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=(0,c.default)(t),r=[],a=n[e.turnActorPartyIndex][e.turnActorIndex];if(a.energy<this.energyCost)return{newPartyStates:t,newEvents:[]};var o=(0,f.getSummonedActorName)(n,e.turnActorPartyIndex,"Small Imp Companion"),i=new u.SummonActorEvent({name:o,items:[],auras:[],maxHP:this.tier,curHP:this.tier,energy:0,speed:11+1*this.tier,attackMin:3*this.tier,attackMax:4*this.tier,tier:this.tier,isSummoned:!0},e.turnActorPartyIndex);return r.push(i),(0,l.combatMessage)(a.name+" blows their whistle, calling for help!"),(0,l.combatMessage)("A nearby friend comes to our aid."),a.energy-=this.energyCost,n[e.turnActorPartyIndex][e.turnActorIndex]=a,{newPartyStates:n,newEvents:r}},e}(i.Item);e.ImpWhistle=d},3378:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KnightsLance=void 0;var i=n(7281),s=n(8891),c=n(2081),u=n(5318),l=o(n(361)),f=n(8151),d=n(1359),p=n(5835),y=function(t){function e(e){var n=c.ItemKind.KNIGHTS_LANCE,r=c.ItemKind[c.ItemKind.KNIGHTS_LANCE];return t.call(this,n,r,e,40)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=(0,l.default)(t),r=n[e.turnActorPartyIndex][e.turnActorIndex];if(r.energy<this.energyCost)return{newPartyStates:t,newEvents:[]};var a=0===e.turnActorPartyIndex?1:0,o=[],s=5*this.tier,c=10*this.tier,y=(0,u.getRandomInt)(s,c+1),v=(0,p.getRandomLivingActor)(n,a),h=n[a][v];if(r.curHP===r.maxHP){y*=2;var _=new i.DamageDealtEvent(y,a,v,e);o.push(_),(0,d.combatMessage)(r.name+" pierces "+h.name+" with a knight's lance. "+h.name+" takes "+y+" dmg.")}else{_=new i.DamageDealtEvent(y,a,v,e);var m=new f.HealingReceivedEvent(y,e.turnActorPartyIndex,e.turnActorIndex,e);o.push(_),o.push(m),(0,d.combatMessage)(r.name+" pierces "+h.name+" with a knight's lance. "+h.name+" takes "+y+" dmg. When did "+r.name+" become a knight? Who knows, but "+r.name+" heals "+y+" hp.")}return r.energy-=this.energyCost,n[e.turnActorPartyIndex][e.turnActorIndex]=r,{newPartyStates:n,newEvents:o}},e}(s.Item);e.KnightsLance=y},1707:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LoveLetter=void 0;var i=n(8891),s=n(2081),c=o(n(361)),u=n(8151),l=n(1359),f=n(5835),d=function(t){function e(e){var n=s.ItemKind.LOVE_LETTER,r=s.ItemKind[s.ItemKind.LOVE_LETTER];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnAfterAttack=function(t,e){var n=(0,c.default)(t),r=n[e.attackerPartyIndex][e.attackerIndex],a=[];if(0==n[e.attackerPartyIndex].filter((function(t,n){return!t.isSummoned&&!t.dead&&n!=e.attackerIndex})).length)return{newPartyStates:n,newEvents:a};var o=(0,f.getRandomLivingActor)(n,e.attackerPartyIndex,(function(t,n){return!t.isSummoned&&!t.dead&&n!=e.attackerIndex})),i=n[e.attackerPartyIndex][o],s=2*this.tier,d=1*this.tier,p=new u.HealingReceivedEvent(s,e.attackerPartyIndex,o,e);return a.push(p),i.energy+=d,n[e.attackerPartyIndex][o]=i,(0,l.combatMessage)(r.name+" gives "+i.name+" a letter showing their love! "+i.name+" gains "+s+" hp and "+d+" energy."),{newPartyStates:n,newEvents:a}},e}(i.Item);e.LoveLetter=d},8389:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Machete=void 0;var o=n(7281),i=n(8891),s=n(2081),c=n(1359),u=n(5835),l=n(5318),f=function(t){function e(e){var n=s.ItemKind.MACHETE,r=s.ItemKind[s.ItemKind.MACHETE];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnTargetFinalized=function(t,e){var n=0===e.attackerPartyIndex?1:0,r=[];if(t[e.attackerPartyIndex][e.attackerIndex],(0,u.numLivingPartyMembers)(t,n)<=1)return{newPartyStates:t,newEvents:[]};var a=(0,u.getRandomLivingActor)(t,n,(function(t,n){return n!==e.defenderIndex})),i=3*this.tier,s=4*this.tier,f=(0,l.getRandomInt)(i,s+1),d=new o.DamageDealtEvent(f,n,a,e);return r.push(d),(0,c.combatMessage)(t[e.attackerPartyIndex][e.attackerIndex].name+" slices and dices with their machete. "+t[n][a].name+" gets caught up in it all and takes "+f+" damage."),{newPartyStates:t,newEvents:r}},e}(i.Item);e.Machete=f},6208:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MagicParasol=void 0;var i=n(8891),s=n(2081),c=n(5318),u=o(n(361)),l=n(8587),f=n(1359),d=function(t){function e(e){var n=s.ItemKind.MAGIC_PARASOL,r=s.ItemKind[s.ItemKind.MAGIC_PARASOL];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnDamageDealt=function(t,e){var n=(0,u.default)(t),r=n[e.targetPartyIndex][e.targetIndex],a=5+5*this.tier;return(0,c.getRandomInt)(0,100)<a&&((0,f.combatMessage)(r.name+" uses their Magic Parasol to completely absorb the hit!"),e.damageDealt=0),{newPartyStates:n,newEvents:[]}},e.prototype.handleBeforeDefenderTargetFinalized=function(t,e,n){if(e===n.defenderIndex)return null;var r=10+3*this.tier;if((0,c.getRandomInt)(0,100)<r){var a=t[n.attackerPartyIndex][n.attackerIndex],o=t[n.defenderPartyIndex][n.defenderIndex],i=t[n.defenderPartyIndex][e];return i.curHP<o.curHP?((0,f.combatMessage)(i.name+" thinks about jumping in front of the attack, but is a coward."),new l.SelectTargetEvent(n.attackerPartyIndex,n.attackerIndex,n.defenderIndex)):((0,f.combatMessage)(a.name+" targets "+o.name+" but "+i.name+" jumps in front of the attack and saves them."),new l.SelectTargetEvent(n.attackerPartyIndex,n.attackerIndex,e))}return null},e}(i.Item);e.MagicParasol=d},7741:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MartyrArmor=void 0;var i=n(8891),s=n(2081),c=n(5318),u=o(n(361)),l=n(8151),f=n(1359),d=n(5835),p=function(t){function e(e){var n=s.ItemKind.MARTYR_ARMOR,r=s.ItemKind[s.ItemKind.MARTYR_ARMOR];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnDamageDealt=function(t,e){var n=(0,u.default)(t),r=n[e.targetPartyIndex][e.targetIndex],a=[];if((0,c.getRandomInt)(0,100)>66)return{newPartyStates:n,newEvents:a};if(0==n[e.targetPartyIndex].filter((function(t,n){return!t.isSummoned&&!t.dead&&n!=e.targetIndex})).length)return{newPartyStates:n,newEvents:a};var o=(0,d.getRandomLivingActor)(n,e.targetPartyIndex,(function(t,n){return!t.isSummoned&&!t.dead&&n!=e.targetIndex})),i=n[e.targetPartyIndex][o],s=2*this.tier,p=1*this.tier,y=new l.HealingReceivedEvent(s,e.targetPartyIndex,o,e);return a.push(y),i.energy+=p,n[e.targetPartyIndex][o]=i,(0,f.combatMessage)(r.name+"'s sacrifice invigorates "+i.name+". They gain "+s+" HP and "+p+" energy."),{newPartyStates:n,newEvents:a}},e}(i.Item);e.MartyrArmor=p},4258:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PoisonDagger=void 0;var i=n(8891),s=n(2081),c=o(n(361)),u=n(3672),l=n(1359),f=function(t){function e(e){var n=s.ItemKind.POISON_DAGGER,r=s.ItemKind[s.ItemKind.POISON_DAGGER];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnTargetFinalized=function(t,e){var n=(0,c.default)(t),r=n[e.attackerPartyIndex][e.attackerIndex],a=n[e.defenderPartyIndex][e.defenderIndex],o=a.auras.findIndex((function(t){return t.kind===u.AuraKind.POISON}));return o>=0?a.auras[o].stacks+=1*this.tier:a.auras.push({kind:u.AuraKind.POISON,stacks:1*this.tier}),n[e.defenderPartyIndex][e.defenderIndex]=a,(0,l.combatMessage)(r.name+"'s poison dagger inflicts a deadly poison on "+a.name+"."),{newPartyStates:n,newEvents:[]}},e}(i.Item);e.PoisonDagger=f},6627:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SeekingMissiles=void 0;var i=o(n(361)),s=n(3672),c=n(8587),u=n(8891),l=n(2081),f=n(1359),d=function(t){function e(e){var n=l.ItemKind.SEEKING_MISSILES,r=l.ItemKind[l.ItemKind.SEEKING_MISSILES];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleBeforeAttackerTargetFinalized=function(t,e){for(var n=t[e.defenderPartyIndex][e.defenderIndex].curHP,r=e.defenderIndex,a=0;a<t[e.defenderPartyIndex].length;a++)t[e.defenderPartyIndex][a].curHP>0&&t[e.defenderPartyIndex][a].curHP<n&&(r=a);return(0,f.combatMessage)(t[e.attackerPartyIndex][e.attackerIndex].name+" follows their seeking missiles and hunts down "+t[e.defenderPartyIndex][r].name+"."),new c.SelectTargetEvent(e.attackerPartyIndex,e.attackerIndex,r)},e.prototype.handleOnTargetFinalized=function(t,e){var n=(0,i.default)(t),r=n[e.attackerPartyIndex][e.attackerIndex],a=n[e.defenderPartyIndex][e.defenderIndex],o=100-a.curHP/a.maxHP*100,c=Math.floor(o/10),u=Math.floor(.5*this.tier*c);return r.auras.push({kind:s.AuraKind.SEEKING_MISSILES,stacks:u}),n[e.attackerPartyIndex][e.attackerIndex]=r,(0,f.combatMessage)("Seeking Missiles deal an extra "+u+" damage."),{newPartyStates:n,newEvents:[]}},e}(u.Item);e.SeekingMissiles=d},2158:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SurvivalKit=void 0;var i=n(8891),s=n(2081),c=n(5318),u=o(n(361)),l=n(8587),f=n(1359),d=function(t){function e(e){var n=s.ItemKind.SURVIVAL_KIT,r=s.ItemKind[s.ItemKind.SURVIVAL_KIT];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnDungeonStart=function(t,e,n){var r=(0,u.default)(t),a=r[e][n];return a.curHP+=20*this.tier,a.maxHP+=20*this.tier,r[e][n]=a,{newPartyStates:r,newEvents:[]}},e.prototype.handleBeforeDefenderTargetFinalized=function(t,e,n){if(e===n.defenderIndex)return null;var r=10+3*this.tier;if((0,c.getRandomInt)(0,100)<r){var a=t[n.attackerPartyIndex][n.attackerIndex],o=t[n.defenderPartyIndex][n.defenderIndex],i=t[n.defenderPartyIndex][e];return i.curHP<o.curHP?((0,f.combatMessage)(i.name+" thinks about jumping in front of the attack, but is a coward."),new l.SelectTargetEvent(n.attackerPartyIndex,n.attackerIndex,n.defenderIndex)):((0,f.combatMessage)(a.name+" targets "+o.name+" but "+i.name+" jumps in front of the attack and saves them."),new l.SelectTargetEvent(n.attackerPartyIndex,n.attackerIndex,e))}return null},e}(i.Item);e.SurvivalKit=d},4795:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Thorns=void 0;var i=n(7281),s=n(8891),c=n(2081),u=n(5318),l=o(n(361)),f=n(1359),d=n(5835),p=function(t){function e(e){var n=c.ItemKind.THORNS,r=c.ItemKind[c.ItemKind.THORNS];return t.call(this,n,r,e,0)||this}return a(e,t),e.prototype.handleOnTurnStart=function(t,e){var n=this,r=(0,l.default)(t),a=0===e.turnActorPartyIndex?1:0,o=[],s=r[e.turnActorPartyIndex][e.turnActorIndex],c=1*this.tier;(0,f.combatMessage)(s.name+" unleashes a bunch of wild thorns!");var p=0;return r=(0,d.forAllLivingActors)(r,a,(function(t,l){var d=new i.DamageDealtEvent(c,a,l,e);return o=o.concat(d),(0,f.combatMessage)("Ouch! "+t.name+" takes "+c+" damage from "+s.name+"'s thorns."),(0,u.getRandomInt)(0,100)<25&&0===p&&(p=1*n.tier,s.energy+=p,r[e.turnActorPartyIndex][e.turnActorIndex]=s),t})),p>0&&(0,f.combatMessage)(s.name+"'s thorns gives them "+p+" energy."),{newPartyStates:r,newEvents:o}},e}(s.Item);e.Thorns=p},1359:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.combatMessage=void 0;var a=r(n(6782));e.combatMessage=function(t){a.default.displayCombatEvents&&console.log(t)}},6782:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={displayCombatEvents:!1,displayPartyStates:!1,pityScaling:function(t){return t+1}}},5835:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSummonedActorName=e.numLivingPartyMembers=e.forAllLivingActors=e.getRandomLivingActor=void 0;var a=r(n(361)),o=n(5318);e.getRandomLivingActor=function(t,e,n){void 0===n&&(n=function(){return!0});var r=t[e],a=r.filter(n).filter((function(t){return t.curHP>0}));if(0===a.length)return-1;var i=(0,o.getRandomInt)(0,a.length);return r.indexOf(a[i])},e.forAllLivingActors=function(t,e,n){for(var r=(0,a.default)(t),o=0;o<r[e].length;o++){var i=r[e][o];i.curHP<=0||(r[e][o]=n(i,o))}return r},e.numLivingPartyMembers=function(t,e){return t[e].filter((function(t){return t.curHP>0})).length},e.getSummonedActorName=function(t,e,n){var r=t[e].filter((function(t){return t.curHP>0&&t.name.includes(n)}));if(0===r.length)return n;for(var a=!1,o=1;!1===a;){for(var i=!1,s=0;s<r.length;s++){var c=r[s].name.match(/\d+$/);if((c?parseInt(c[0]):1)===o){o++,i=!0;break}}i||(a=!0)}return n+" "+o}},5318:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomInt=void 0,e.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t)+t)}}},n={};function r(t){var a=n[t];if(void 0!==a)return a.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=e,r.c=n,t=[],r.O=(e,n,a,o)=>{if(!n){var i=1/0;for(l=0;l<t.length;l++){for(var[n,a,o]=t[l],s=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every((t=>r.O[t](n[c])))?n.splice(c--,1):(s=!1,o<i&&(i=o));if(s){t.splice(l--,1);var u=a();void 0!==u&&(e=u)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[n,a,o]},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={277:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var a,o,[i,s,c]=n,u=0;if(i.some((e=>0!==t[e]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(c)var l=c(r)}for(e&&e(n);u<i.length;u++)o=i[u],r.o(t,o)&&t[o]&&t[o][0](),t[i[u]]=0;return r.O(l)},n=self.webpackChunkap_dungeons_sim=self.webpackChunkap_dungeons_sim||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var a=r(r.s=4080);a=r.O(a)})();